import{_ as C,C as N}from"./CustomSnackbar-ef62ff4a.js";import{a as S,c as m,w as r,r as o,o as d,b as s,f as p,d as _,t as V,e as y}from"./app-ee36906e.js";const q={name:"Welcome",data(){return{showSnackbar:!1,snackbarMessage:null,phonePrefix:"+380",error:null,uniqueLink:null,userName:null,phoneNumber:null}},components:{CustomSnackbar:N},methods:{register(){let t=`${this.phonePrefix}${this.phoneNumber?this.phoneNumber:""}`;console.log({user_name:this.userName,phone_number:t}),S.post("/auth/sign-up",{user_name:this.userName,phone_number:t}).then(e=>{this.uniqueLink=e.data.codeString}).catch(e=>{var c,u;console.log(e.response),this.error=(u=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:u.message,this.error=this.error.substring(0,this.error.indexOf("."))})},showSnackbarMessage(t){this.snackbarMessage=t,this.showSnackbar=!0},copyToBuffer(){navigator.clipboard.writeText(this.uniqueLink).then(()=>{this.showSnackbarMessage("Copied to clipboard")}).catch(t=>{this.showSnackbarMessage("And error occurred")})},resetError(){this.error=null}}},I={style:{width:"500px"}},L={class:"text-center"},M={style:{"font-size":"13px"},class:"text-red"};function U(t,e,c,u,n,l){const h=o("CustomSnackbar"),b=o("v-card-title"),i=o("v-text-field"),f=o("v-btn"),k=o("v-card-text"),v=o("v-card"),g=o("v-row"),x=o("v-container"),w=o("v-app");return d(),m(w,{"data-app":""},{default:r(()=>[s(h,{visible:n.showSnackbar,message:n.snackbarMessage,snackbarColor:"success",onClose:e[0]||(e[0]=a=>n.showSnackbar=!1)},null,8,["visible","message"]),s(x,{class:"fill-height"},{default:r(()=>[s(g,{class:"d-flex justify-center align-center"},{default:r(()=>[p("div",I,[s(v,null,{default:r(()=>[s(b,null,{default:r(()=>[_(" Sign Up ")]),_:1}),s(k,null,{default:r(()=>[s(i,{modelValue:n.userName,"onUpdate:modelValue":e[1]||(e[1]=a=>n.userName=a),onInput:l.resetError,label:"Username",class:"caption"},null,8,["modelValue","onInput"]),s(i,{modelValue:n.phoneNumber,"onUpdate:modelValue":e[2]||(e[2]=a=>n.phoneNumber=a),onInput:l.resetError,label:"Phone number",type:"number",prefix:"+3 80",class:"caption"},null,8,["modelValue","onInput"]),p("div",L,[p("span",M,V(n.error),1)]),s(f,{color:"success",class:"w-100 mt-2",onClick:l.register},{default:r(()=>[_("Sign Up")]),_:1},8,["onClick"])]),_:1})]),_:1}),n.uniqueLink?(d(),m(i,{key:0,modelValue:n.uniqueLink,"onUpdate:modelValue":e[3]||(e[3]=a=>n.uniqueLink=a),readonly:"","append-inner-icon":"mdi-content-copy","onClick:appendInner":l.copyToBuffer,class:"w-100 h-25 mt-10"},null,8,["modelValue","onClick:appendInner"])):y("",!0)])]),_:1})]),_:1})]),_:1})}const E=C(q,[["render",U]]);export{E as default};
